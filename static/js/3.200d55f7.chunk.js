(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{404:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3OrvS",infoContainer:"ProfileInfo_infoContainer__2Fwba",contact:"ProfileInfo_contact__1ij0M",formSummaryError:"ProfileInfo_formSummaryError__1fHbS",profileData:"ProfileInfo_profileData__2-HPX",myName:"ProfileInfo_myName__1NG9k",editButton:"ProfileInfo_editButton__10ufK",aboutMe:"ProfileInfo_aboutMe__1UKYu",jobInfo:"ProfileInfo_jobInfo__jM56_",editForm:"ProfileInfo_editForm__3M9rJ",saveButton:"ProfileInfo_saveButton__1IS4z"}},405:function(e,t,a){e.exports={ProfileStatus:"ProfileStatus_ProfileStatus__3EJxX"}},406:function(e,t,a){"use strict";var n=a(48);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),o=(0,n(a(55)).default)(l.default.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=o},407:function(e,t,a){"use strict";var n=a(48);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),o=(0,n(a(55)).default)(l.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},408:function(e,t,a){e.exports={PostsBlock:"MyPosts_PostsBlock__MRVJj",postContainer:"MyPosts_postContainer__18Ok0",posts:"MyPosts_posts__2Z5yQ"}},409:function(e,t,a){e.exports={item:"Post_item__34bwU",postPhoto:"Post_postPhoto__32XXu",postData:"Post_postData__1rAKM",postLikes:"Post_postLikes__29cTb"}},410:function(e,t,a){"use strict";var n=a(48);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),o=(0,n(a(55)).default)(l.default.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.default=o},411:function(e,t,a){e.exports={profile:"Profile_profile__22Xv1",column1:"Profile_column1__2r8sv",profilePhoto:"Profile_profilePhoto__2JKlE",friends:"Profile_friends__dAKeN",column2:"Profile_column2__VT8ox"}},412:function(e,t,a){e.exports={ProfilePhoto:"ProfilePhoto_ProfilePhoto__tVm29",mainAvatar:"ProfilePhoto_mainAvatar__1TpKY"}},413:function(e,t,a){e.exports={Following:"Following_Following__jbFrd",friendsList:"Following_friendsList__1KJec"}},414:function(e,t,a){e.exports={Friend:"Friend_Friend__21DU8"}},415:function(e,t,a){"use strict";a.r(t);var n=a(58),l=a(59),o=a(61),r=a(60),i=a(0),s=a.n(i),c=a(93),u=a(404),m=a.n(u),f=a(405),p=a.n(f),d=function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),n=a[0],l=a[1],o=Object(i.useState)(e.status),r=Object(c.a)(o,2),u=r[0],m=r[1];return Object(i.useEffect)((function(){u!==e.status&&m(e.status)}),[e.status]),s.a.createElement("div",{className:p.a.ProfileStatus},n?s.a.createElement("div",null,s.a.createElement("input",{onBlur:function(){l(!1),e.updateStatus(u)},value:u,autoFocus:!0,onChange:function(e){m(e.currentTarget.value)}})):s.a.createElement("div",null,s.a.createElement("h4",null,"My Status: ")," ",s.a.createElement("span",{onDoubleClick:function(){e.isOwner&&l(!0)},title:"Double click to change"},e.status||"-------")))},E=a(171),v=a(172),_=a(74),h=a(75),b=a(406),P=a.n(b),y=a(384),N=Object(v.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return s.a.createElement("form",{onSubmit:t,className:m.a.editForm},s.a.createElement("div",{className:m.a.editButton},s.a.createElement(y.a,{type:"submit"},s.a.createElement(P.a,null))),s.a.createElement("h3",null,"ABOUT ME:"),s.a.createElement("div",null,s.a.createElement("b",null,"Full name:")," ",s.a.createElement(E.a,{placeholder:"Full name",name:"fullName",component:_.a,validate:[h.b]})),s.a.createElement("div",null,s.a.createElement("b",null,"About me:")," ",s.a.createElement(E.a,{component:_.b,name:"aboutMe",placeholder:"Enter some info about yourself:",validate:[h.b]})),s.a.createElement("hr",null),s.a.createElement("h4",null,"Contacts:"),s.a.createElement("div",null,Object.keys(a.contacts).map((function(e){return s.a.createElement("div",{className:m.a.contact},s.a.createElement("b",null,e),": ",s.a.createElement(E.a,{key:e,placeholder:e,name:"contacts.".concat(e),component:_.a}))}))),s.a.createElement("div",null,s.a.createElement("b",null,"Is looking for a job:")," ",s.a.createElement(E.a,{type:"checkbox",name:"lookingForAJob",component:_.a})),s.a.createElement("div",null,s.a.createElement("b",null,"My professional skills:")," ",s.a.createElement(E.a,{component:_.b,name:"lookingForAJobDescription",placeholder:"Enter your skills:",validate:[h.b]})),n&&s.a.createElement("div",{className:m.a.formSummaryError},n),s.a.createElement("hr",null))})),O=a(397),g=a(407),k=a.n(g),j=function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),n=a[0],l=a[1];if(!e.profile)return s.a.createElement(O.a,null);return s.a.createElement("div",null,s.a.createElement("div",{className:m.a.descriptionBlock},n?s.a.createElement(N,{onSubmit:function(t){e.saveProfile(t).then((function(){l(!1)}))},initialValues:e.profile,profile:e.profile}):s.a.createElement(S,{profile:e.profile,isOwner:e.isOwner,activateEditMode:function(){l(!0)}}),s.a.createElement("div",{className:m.a.infoContainer},s.a.createElement(d,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}))))},S=function(e){return s.a.createElement("div",{className:m.a.profileData},s.a.createElement("div",{className:m.a.editButton},e.isOwner&&s.a.createElement(y.a,{onClick:e.activateEditMode,size:"small"},s.a.createElement(k.a,null))),s.a.createElement("div",{className:m.a.myName},s.a.createElement("h3",null,"Hello, my name is ",s.a.createElement("span",null,e.profile.fullName))),s.a.createElement("div",null,s.a.createElement("div",{className:m.a.infoContainer},s.a.createElement("div",{className:m.a.aboutMe},s.a.createElement("h4",null,"About me:")," ",s.a.createElement("span",null,e.profile.aboutMe))),s.a.createElement("hr",null),s.a.createElement("div",null,s.a.createElement("div",{className:m.a.infoContainer},s.a.createElement("h4",null,"My Contacts:"),s.a.createElement("div",null,Object.keys(e.profile.contacts).map((function(t){return s.a.createElement(M,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})})))))),s.a.createElement("hr",null),s.a.createElement("div",{className:m.a.infoContainer},s.a.createElement("div",{className:m.a.jobInfo},s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("b",null,"Is looking for a job:")," ",e.profile.lookingForAJob?"yes":"no")),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("b",null,"My professional skills:")," ",e.profile.lookingForAJobDescription)))),s.a.createElement("hr",null))},M=function(e){return s.a.createElement("div",{className:m.a.contact},s.a.createElement("span",null,s.a.createElement("b",null,e.contactTitle),": ",e.contactValue))},I=a(133),w=a(28),F=a(408),C=a.n(F),A=a(409),B=a.n(A),D=a(132),x=a.n(D),z=a(410),J=a.n(z),T=function(e){return s.a.createElement("div",{className:B.a.item},s.a.createElement("img",{src:e.photo||x.a,alt:"avatar",className:B.a.postPhoto}),s.a.createElement("div",{className:B.a.postData},s.a.createElement("span",null,e.message),s.a.createElement("div",{className:B.a.postLikes},s.a.createElement(y.a,null,s.a.createElement(J.a,{color:"secondary"}))," - ",e.likesCount," ")))},L=Object(h.a)(10),V=Object(v.a)({form:"ProfileAddNewPostForm"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("div",null,s.a.createElement(E.a,{component:_.b,name:"newPostBody",placeholder:"Enter post text",validate:[L]})),s.a.createElement("div",{style:{marginTop:"10px"}},s.a.createElement(y.a,{type:"submit",variant:"outlined",size:"small"},"Add post")))})),U=s.a.memo((function(e){var t=e.posts.map((function(t){return s.a.createElement(T,{message:t.message,likesCount:t.likesCount,key:t.id,photo:e.photo})})),a=Object(i.useCallback)((function(t){e.addPost(t.newPostBody)}),[e]);return s.a.createElement("div",{className:C.a.PostsBlock},s.a.createElement("div",{className:C.a.postContainer},s.a.createElement("h3",null,"My posts:"),s.a.createElement(V,{onSubmit:a}),s.a.createElement("div",{className:C.a.posts},t)))})),K=Object(w.b)((function(e){return{posts:e.profilePage.posts,photo:e.profilePage.profile.photos.small}}),(function(e){return{addPost:function(t){e(Object(I.a)(t))}}}))(U),H=a(411),X=a.n(H),R=a(412),Y=a.n(R),G=function(e){return s.a.createElement("div",{className:Y.a.ProfilePhoto},s.a.createElement("img",{src:e.profile.photos.large||x.a,className:Y.a.mainAvatar}),e.isOwner&&s.a.createElement(y.a,{variant:"contained",component:"label",size:"small"}," Upload new photo",s.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(t){var a;(null===(a=t.currentTarget.files)||void 0===a?void 0:a.length)&&e.saveAvatar(t.currentTarget.files[0])}})))},Q=a(413),Z=a.n(Q),q=a(52),W=a(414),$=a.n(W),ee=a(40),te=function(e){return s.a.createElement("div",{className:$.a.Friend},s.a.createElement("div",null,s.a.createElement(ee.b,{to:"/profile/"+e.userId},s.a.createElement("img",{src:null!==e.userPhotoSmall?e.userPhotoSmall:x.a,alt:"avatar",className:$.a.avatar}))),s.a.createElement("div",null,s.a.createElement("span",null,e.userName)))},ae=function(e){Object(i.useEffect)((function(){t(Object(q.c)(!0))}),[]);var t=Object(w.c)(),a=Object(w.d)((function(e){return e.usersPage.friends}));return console.log("FRIENDS: ",a),s.a.createElement("div",{className:Z.a.Following},s.a.createElement("h3",null,"My Friends"),s.a.createElement("div",{className:Z.a.friendsList},a.map((function(e){return s.a.createElement(te,{key:e.id,userId:e.id,userPhotoSmall:e.photos.small,userName:e.name})}))))};var ne=function(e){return s.a.createElement("div",{className:X.a.profile},s.a.createElement("div",{className:X.a.column1},s.a.createElement("div",{className:X.a.profilePhoto},s.a.createElement(G,{profile:e.profile,isOwner:e.isOwner,saveAvatar:e.saveAvatar})),s.a.createElement("div",{className:X.a.friends},s.a.createElement(ae,null))),s.a.createElement("div",{className:X.a.column2},s.a.createElement(j,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,saveProfile:e.saveProfile}),s.a.createElement(K,null)))},le=a(19),oe=a(17),re=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return s.a.createElement(ne,Object.assign({},this.props,{isOwner:!this.props.match.params.userId}))}}]),a}(s.a.Component);t.default=Object(oe.d)(Object(w.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getProfile:I.c,getStatus:I.d,updateStatus:I.g,saveAvatar:I.e,saveProfile:I.f}),le.g)(re)}}]);
//# sourceMappingURL=3.200d55f7.chunk.js.map
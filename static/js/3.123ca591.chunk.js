(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{421:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3OrvS",infoContainer:"ProfileInfo_infoContainer__2Fwba",contact:"ProfileInfo_contact__1ij0M",formSummaryError:"ProfileInfo_formSummaryError__1fHbS",profileData:"ProfileInfo_profileData__2-HPX",myName:"ProfileInfo_myName__1NG9k",editButton:"ProfileInfo_editButton__10ufK",aboutMe:"ProfileInfo_aboutMe__1UKYu",jobInfo:"ProfileInfo_jobInfo__jM56_",editForm:"ProfileInfo_editForm__3M9rJ",saveButton:"ProfileInfo_saveButton__1IS4z"}},423:function(e,t,a){e.exports={ProfileStatus:"ProfileStatus_ProfileStatus__3EJxX"}},424:function(e,t,a){"use strict";var n=a(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),o=(0,n(a(63)).default)(l.default.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=o},425:function(e,t,a){"use strict";var n=a(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),o=(0,n(a(63)).default)(l.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},426:function(e,t,a){e.exports={PostsBlock:"MyPosts_PostsBlock__MRVJj",postContainer:"MyPosts_postContainer__18Ok0",posts:"MyPosts_posts__2Z5yQ"}},427:function(e,t,a){e.exports={item:"Post_item__34bwU",postPhoto:"Post_postPhoto__32XXu",postData:"Post_postData__1rAKM",postLikes:"Post_postLikes__29cTb"}},428:function(e,t,a){"use strict";var n=a(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),o=(0,n(a(63)).default)(l.default.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.default=o},429:function(e,t,a){e.exports={profile:"Profile_profile__22Xv1",column1:"Profile_column1__2r8sv",profilePhoto:"Profile_profilePhoto__2JKlE",friends:"Profile_friends__dAKeN",column2:"Profile_column2__VT8ox"}},430:function(e,t,a){e.exports={ProfilePhoto:"ProfilePhoto_ProfilePhoto__tVm29",mainAvatar:"ProfilePhoto_mainAvatar__1TpKY"}},431:function(e,t,a){e.exports={Following:"Following_Following__jbFrd",friendsList:"Following_friendsList__1KJec"}},432:function(e,t,a){e.exports={Friend:"Friend_Friend__21DU8"}},433:function(e,t,a){"use strict";a.r(t);var n=a(66),l=a(67),o=a(69),r=a(68),i=a(0),s=a.n(i),c=a(27),u=a(96),m=a(20),f=a(18),d=a(56),p=a(95),E=a(421),v=a.n(E),_=a(423),b=a.n(_),h=function(e){var t=Object(i.useState)(!1),a=Object(p.a)(t,2),n=a[0],l=a[1],o=Object(i.useState)(e.status),r=Object(p.a)(o,2),c=r[0],u=r[1];return Object(i.useEffect)((function(){c!==e.status&&u(e.status)}),[e.status]),s.a.createElement("div",{className:b.a.ProfileStatus},n?s.a.createElement("div",null,s.a.createElement("input",{onBlur:function(){l(!1),e.updateStatus(c)},value:c,autoFocus:!0,onChange:function(e){u(e.currentTarget.value)}})):s.a.createElement("div",null,s.a.createElement("h4",null,"My Status: ")," ",s.a.createElement("span",{onDoubleClick:function(){e.isOwner&&l(!0)},title:"Double click to change"},e.status||"-------")))},P=a(184),O=a(185),y=a(83),N=a(84),j=a(424),k=a.n(j),g=a(402),w=Object(O.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return s.a.createElement("form",{onSubmit:t,className:v.a.editForm},s.a.createElement("div",{className:v.a.editButton},s.a.createElement(g.a,{type:"submit"},s.a.createElement(k.a,null))),s.a.createElement("h3",null,"ABOUT ME:"),s.a.createElement("div",null,s.a.createElement("b",null,"Full name:")," ",s.a.createElement(P.a,{placeholder:"Full name",name:"fullName",component:y.b,validate:[N.b]})),s.a.createElement("div",null,s.a.createElement("b",null,"About me:")," ",s.a.createElement(P.a,{component:y.c,name:"aboutMe",placeholder:"Enter some info about yourself:",validate:[N.b]})),s.a.createElement("hr",null),s.a.createElement("h4",null,"Contacts:"),s.a.createElement("div",null,Object.keys(a.contacts).map((function(e){return s.a.createElement("div",{className:v.a.contact},s.a.createElement("b",null,e),": ",s.a.createElement(P.a,{key:e,placeholder:e,name:"contacts.".concat(e),component:y.b}))}))),s.a.createElement("div",null,s.a.createElement("b",null,"Is looking for a job:")," ",s.a.createElement(P.a,{type:"checkbox",name:"lookingForAJob",component:y.b})),s.a.createElement("div",null,s.a.createElement("b",null,"My professional skills:")," ",s.a.createElement(P.a,{component:y.c,name:"lookingForAJobDescription",placeholder:"Enter your skills:",validate:[N.b]})),n&&s.a.createElement("div",{className:v.a.formSummaryError},n),s.a.createElement("hr",null))})),S=a(405),F=a(425),M=a.n(F),I=function(e){var t=Object(i.useState)(!1),a=Object(p.a)(t,2),n=a[0],l=a[1];if(!e.profile)return s.a.createElement(S.a,null);return s.a.createElement("div",null,s.a.createElement("div",{className:v.a.descriptionBlock},n?s.a.createElement(w,{onSubmit:function(t){e.saveProfile(t).then((function(){l(!1)}))},initialValues:e.profile,profile:e.profile}):s.a.createElement(C,{profile:e.profile,isOwner:e.isOwner,activateEditMode:function(){l(!0)}}),s.a.createElement("div",{className:v.a.infoContainer},s.a.createElement(h,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}))))},C=function(e){return s.a.createElement("div",{className:v.a.profileData},s.a.createElement("div",{className:v.a.myName},s.a.createElement("h3",null,"Hello, my name is ",s.a.createElement("span",null,e.profile.fullName))),s.a.createElement("div",{className:v.a.editButton},e.isOwner&&s.a.createElement(g.a,{onClick:e.activateEditMode,size:"small"},s.a.createElement(M.a,null))),s.a.createElement("div",null,s.a.createElement("div",{className:v.a.infoContainer},s.a.createElement("div",{className:v.a.aboutMe},s.a.createElement("h4",null,"About me:")," ",s.a.createElement("span",null,e.profile.aboutMe))),s.a.createElement("hr",null),s.a.createElement("div",null,s.a.createElement("div",{className:v.a.infoContainer},s.a.createElement("h4",null,"My Contacts:"),s.a.createElement("div",null,Object.keys(e.profile.contacts).map((function(t){return s.a.createElement(A,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})})))))),s.a.createElement("hr",null),s.a.createElement("div",{className:v.a.infoContainer},s.a.createElement("div",{className:v.a.jobInfo},s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("b",null,"Is looking for a job:")," ",e.profile.lookingForAJob?"yes":"no")),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("b",null,"My professional skills:")," ",e.profile.lookingForAJobDescription)))),s.a.createElement("hr",null))},A=function(e){return s.a.createElement("div",{className:v.a.contact},s.a.createElement("span",null,s.a.createElement("b",null,e.contactTitle),": ",e.contactValue))},B=a(426),z=a.n(B),x=a(427),D=a.n(x),J=a(146),U=a.n(J),T=a(428),L=a.n(T),V=function(e){return s.a.createElement("div",{className:D.a.item},s.a.createElement("img",{src:e.photo||U.a,alt:"avatar",className:D.a.postPhoto}),s.a.createElement("div",{className:D.a.postData},s.a.createElement("span",null,e.message),s.a.createElement("div",{className:D.a.postLikes},s.a.createElement(g.a,null,s.a.createElement(L.a,{color:"secondary"}))," - ",e.likesCount," ")))},K=Object(N.a)(10),H=Object(O.a)({form:"ProfileAddNewPostForm"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("div",null,s.a.createElement(P.a,{component:y.c,name:"newPostBody",placeholder:"Enter post text",validate:[K]})),s.a.createElement("div",{style:{marginTop:"10px"}},s.a.createElement(g.a,{type:"submit",variant:"outlined",size:"small"},"Add post")))})),X=s.a.memo((function(e){var t=e.posts.map((function(t){return s.a.createElement(V,{message:t.message,likesCount:t.likesCount,key:t.id,photo:e.photo})})),a=Object(i.useCallback)((function(t){e.addPost(t.newPostBody)}),[e]);return s.a.createElement("div",{className:z.a.PostsBlock},s.a.createElement("div",{className:z.a.postContainer},s.a.createElement("h3",null,"My posts:"),s.a.createElement(H,{onSubmit:a}),s.a.createElement("div",{className:z.a.posts},t)))})),R=Object(c.b)((function(e){return{posts:e.profilePage.posts,photo:e.profilePage.profile.photos.small}}),(function(e){return{addPost:function(t){e(Object(u.a)(t))}}}))(X),Y=a(429),G=a.n(Y),Q=a(430),Z=a.n(Q),q=function(e){var t=Object(i.useState)(!1),a=Object(p.a)(t,2),n=a[0],l=a[1];Object(i.useEffect)((function(){l(e.isUserFollowed)}),[e.isUserFollowed]);return s.a.createElement("div",{className:Z.a.ProfilePhoto},s.a.createElement("img",{src:e.profile.photos.large||U.a,className:Z.a.mainAvatar}),e.isOwner?s.a.createElement(g.a,{variant:"contained",component:"label",size:"small"}," Upload new photo",s.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(t){var a;(null===(a=t.currentTarget.files)||void 0===a?void 0:a.length)&&e.saveAvatar(t.currentTarget.files[0])}})):n?s.a.createElement(g.a,{variant:"contained",size:"small",onClick:function(){e.unFollow(e.userId),l(!1)}},"unfollow"):s.a.createElement(g.a,{variant:"contained",size:"small",onClick:function(){e.follow(e.userId),l(!0)}},"follow"))},W=a(431),$=a.n(W),ee=a(432),te=a.n(ee),ae=a(41),ne=function(e){return s.a.createElement("div",{className:te.a.Friend},s.a.createElement("div",null,s.a.createElement(ae.b,{to:"/profile/"+e.userId},s.a.createElement("img",{src:null!==e.userPhotoSmall?e.userPhotoSmall:U.a,alt:"avatar",className:te.a.avatar}))),s.a.createElement("div",null,s.a.createElement("span",null,e.userName)))},le=function(e){var t=Object(c.c)();Object(i.useEffect)((function(){t(Object(d.c)(!0))}),[]);var a=Object(c.d)((function(e){return e.usersPage.friends}));return s.a.createElement("div",{className:$.a.Following},s.a.createElement("h3",null,"My Friends"),s.a.createElement("div",{className:$.a.friendsList},a.map((function(e){return s.a.createElement(ne,{key:e.id,userId:e.id,userPhotoSmall:e.photos.small,userName:e.name})}))))},oe=s.a.memo((function(e){var t=Object(i.useState)(!1),a=Object(p.a)(t,2),n=a[0],l=a[1],o=e.friends.find((function(t){return t.name===e.profile.fullName}));return Object(i.useEffect)((function(){l(!!o)}),[o]),s.a.createElement("div",{className:G.a.profile},s.a.createElement("div",{className:G.a.column1},s.a.createElement("div",{className:G.a.profilePhoto},s.a.createElement(q,{profile:e.profile,isOwner:e.isOwner,saveAvatar:e.saveAvatar,isUserFollowed:n,unFollow:e.unFollow,follow:e.follow,userId:e.profile.userId})),s.a.createElement("div",{className:G.a.friends},s.a.createElement(le,null))),s.a.createElement("div",{className:G.a.column2},s.a.createElement(I,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,saveProfile:e.saveProfile}),s.a.createElement(R,null)))})),re=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isRefresh:!1},e}return Object(l.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return s.a.createElement(oe,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,friends:this.props.friends}))}}]),a}(s.a.Component);t.default=Object(f.d)(Object(c.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth,friends:e.usersPage.friends}}),{getProfile:u.c,getStatus:u.d,updateStatus:u.h,saveAvatar:u.e,saveProfile:u.f,unFollow:d.f,follow:d.b}),m.g)(re)}}]);
//# sourceMappingURL=3.123ca591.chunk.js.map
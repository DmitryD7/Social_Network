(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{291:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3OrvS",mainAvatar:"ProfileInfo_mainAvatar__3lXd8",contact:"ProfileInfo_contact__1ij0M",formSummaryError:"ProfileInfo_formSummaryError__1fHbS"}},292:function(e,t,a){e.exports={ProfileStatus:"ProfileStatus_ProfileStatus__3EJxX"}},293:function(e,t,a){e.exports={PostsBlock:"MyPosts_PostsBlock__MRVJj",posts:"MyPosts_posts__2Z5yQ"}},294:function(e,t,a){e.exports={item:"Post_item__34bwU"}},295:function(e,t,a){"use strict";a.r(t);var n=a(35),l=a(36),r=a(38),o=a(37),c=a(0),i=a.n(c),s=a(96),u=a(291),m=a.n(u),f=a(40),p=a(292),E=a.n(p),d=function(e){var t=Object(c.useState)(!1),a=Object(s.a)(t,2),n=a[0],l=a[1],r=Object(c.useState)(e.status),o=Object(s.a)(r,2),u=o[0],m=o[1];return Object(c.useEffect)((function(){u!==e.status&&m(e.status)}),[e.status]),i.a.createElement("div",null,n?i.a.createElement("div",{className:E.a.ProfileStatus},i.a.createElement("input",{onBlur:function(){l(!1),e.updateStatus(u)},value:u,autoFocus:!0,onChange:function(e){m(e.currentTarget.value)}})):i.a.createElement("div",{className:E.a.ProfileStatus},i.a.createElement("b",null,"Status: ")," ",i.a.createElement("span",{onDoubleClick:function(){l(!0)}},e.status||"-------")))},v=a(118),b=a.n(v),h=a(129),k=a(130),P=a(47),O=a(48),g=Object(k.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return i.a.createElement("form",{onSubmit:t},i.a.createElement("h3",null,"ABOUT ME:"),i.a.createElement("div",null,i.a.createElement("b",null,"Full name:")," ",i.a.createElement(h.a,{placeholder:"Full name",name:"fullName",component:P.a,validate:[O.b]})),i.a.createElement("div",null,i.a.createElement("b",null,"About me:")," ",i.a.createElement(h.a,{component:P.b,name:"aboutMe",placeholder:"Enter some info about yourself:",validate:[O.b]})),i.a.createElement("hr",null),i.a.createElement("div",null,i.a.createElement("b",null,"Is looking for a job:")," ",i.a.createElement(h.a,{type:"checkbox",name:"lookingForAJob",component:P.a})),i.a.createElement("div",null,i.a.createElement("b",null,"My professional skills:")," ",i.a.createElement(h.a,{component:P.b,name:"lookingForAJobDescription",placeholder:"Enter your skills:",validate:[O.b]})),i.a.createElement("h4",null,"Contacts:"),i.a.createElement("div",null,Object.keys(a.contacts).map((function(e){return i.a.createElement("div",{className:m.a.contact},i.a.createElement("b",null,e),": ",i.a.createElement(h.a,{key:e,placeholder:e,name:"contacts.".concat(e),component:P.a}))}))),n&&i.a.createElement("div",{className:m.a.formSummaryError},n),i.a.createElement("button",null,"Save"),i.a.createElement("hr",null))})),y=function(e){var t=Object(c.useState)(!1),a=Object(s.a)(t,2),n=a[0],l=a[1];if(!e.profile)return i.a.createElement(f.a,null);return i.a.createElement("div",null,i.a.createElement("div",{className:m.a.descriptionBlock},i.a.createElement("img",{src:e.profile.photos.large||b.a,className:m.a.mainAvatar}),e.isOwner&&i.a.createElement("input",{type:"file",onChange:function(t){var a;(null===(a=t.currentTarget.files)||void 0===a?void 0:a.length)&&e.saveAvatar(t.currentTarget.files[0])}}),n?i.a.createElement(g,{onSubmit:function(t){e.saveProfile(t).then((function(){l(!1)}))},initialValues:e.profile,profile:e.profile}):i.a.createElement(S,{profile:e.profile,isOwner:e.isOwner,activateEditMode:function(){l(!0)}}),i.a.createElement(d,{status:e.status,updateStatus:e.updateStatus})))},S=function(e){return i.a.createElement("div",null,i.a.createElement("div",null,e.isOwner&&i.a.createElement("button",{onClick:e.activateEditMode},"edit")),i.a.createElement("div",null,i.a.createElement("h3",null,"ABOUT ME:"),i.a.createElement("div",null,i.a.createElement("b",null,"Full name:")," ",e.profile.fullName," "),i.a.createElement("div",null,i.a.createElement("b",null,"About me:")," ",e.profile.aboutMe),i.a.createElement("h4",null,"Contacts:"),i.a.createElement("div",null,Object.keys(e.profile.contacts).map((function(t){return i.a.createElement(j,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})})))),i.a.createElement("hr",null),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("b",null,"Is looking for a job:")," ",e.profile.lookingForAJob?"yes":"no"," "),i.a.createElement("div",null,i.a.createElement("b",null,"My professional skills:")," ",e.profile.lookingForAJobDescription)),i.a.createElement("hr",null))},j=function(e){return i.a.createElement("div",{className:m.a.contact},i.a.createElement("b",null,e.contactTitle,": ",e.contactValue))},_=a(95),A=a(18),M=a(293),w=a.n(M),N=a(294),I=a.n(N),B=function(e){return i.a.createElement("div",{className:I.a.item},i.a.createElement("img",{src:"https://cdn.iconscout.com/icon/free/png-256/avatar-370-456322.png",alt:"avatar"}),e.message,i.a.createElement("div",null,i.a.createElement("span",null,"Likes ",e.likesCount," ")))},C=Object(O.a)(10),F=Object(k.a)({form:"ProfileAddNewPostForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement(h.a,{component:P.b,name:"newPostBody",placeholder:"Enter post text",validate:[O.b,C]})),i.a.createElement("div",null,i.a.createElement("button",null,"Add post")))})),J=i.a.memo((function(e){var t=e.posts.map((function(e){return i.a.createElement(B,{message:e.message,likesCount:e.likesCount,key:e.id})})),a=Object(c.useCallback)((function(t){e.addPost(t.newPostBody)}),[e]);return i.a.createElement("div",{className:w.a.PostsBlock},i.a.createElement("h3",null,"My posts:"),i.a.createElement(F,{onSubmit:a}),i.a.createElement("div",{className:w.a.posts},t))})),x=Object(A.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(Object(_.a)(t))}}}))(J);var T=function(e){return i.a.createElement("div",null,i.a.createElement(y,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,saveAvatar:e.saveAvatar,saveProfile:e.saveProfile}),i.a.createElement(x,null))},U=a(10),D=a(9),V=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(T,Object.assign({},this.props,{isOwner:!this.props.match.params.userId}))}}]),a}(i.a.Component);t.default=Object(D.d)(Object(A.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getProfile:_.c,getStatus:_.d,updateStatus:_.g,saveAvatar:_.e,saveProfile:_.f}),U.g)(V)}}]);
//# sourceMappingURL=3.0e18f285.chunk.js.map
{"version":3,"sources":["redux/DialogsReducer/dialogsReducer.ts","API/API.ts","Components/NavBar/Navbar.module.css","Components/Music/Music.module.css","assets/images/logo192.png","assets/images/Spinner-1s-200px.svg","Components/NavBar/Friends/Friends.tsx","Components/NavBar/Navbar.tsx","Components/News/News.tsx","Components/Music/Music.tsx","Components/Settings/Settings.tsx","redux/SideBarReducer/sideBarReducer.ts","redux/UsersReducer/usersReducer.ts","redux/AuthReducer/AuthReducer.ts","redux/appReducer/appReducer.ts","redux/reduxStore.ts","Components/Users/Paginator/Paginator.tsx","Components/Users/User/User.tsx","Components/Users/UsersFunc.tsx","redux/UsersReducer/usersSelectors.ts","Components/Users/UsersContainer.tsx","Components/Header/Header.tsx","Components/Header/Header.container.tsx","Components/Login/Login.tsx","hoc/WithSuspense.tsx","App.tsx","serviceWorker.ts","index.tsx","Components/common/preloader/Preloader.tsx","Components/common/FormsControls/FormControls.module.css","Components/common/FormsControls/FormControls.tsx","Components/common/validators/Validators.tsx","Components/Users/Users.module.css","Components/Users/Paginator/Paginator.module.css","Components/Login/Login.module.css","Components/NavBar/Friends/Friends.module.css","Components/Header/Header.module.css","redux/ProfileReducer/profileReducer.ts"],"names":["initialState","dialogs","id","name","messages","message","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","newMessage","ResultCodeEnum","instance","axios","create","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","post","unFollow","delete","profileAPI","getProfile","userID","getStatus","updateStatus","status","put","authAPI","getAuth","logIn","email","password","rememberMe","logOut","module","exports","Friends","props","className","s","friend","avatar","src","url","alt","NavBar","newFriends","friends","map","fr","key","nav","item","to","activeClassName","activeLink","friendsBlock","News","Music","Settings","sideBarReducer","FOLLOW","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","userId","apiMethod","actionCreator","a","resultCode","usersReducer","u","followed","filter","login","isAuth","setAuthUserData","getAuthUserData","responseData","Success","initialized","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sideBar","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPagePortionNumber","rightPagePortionNumber","paginator","onClick","p","selectedPage","onPageChange","User","userPhotoSmall","userPhoto","isUserFollowed","disabled","some","userName","userStatus","UsersFunc","Users","photos","small","getUsersSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPIContainer","pageNumber","this","Preloader","React","Component","UsersContainer","connect","bind","page","items","totalCount","Header","header","loginBlock","logout","HeaderContainer","HeaderConnect","maxLength30","maxLength","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","requiredField","htmlFor","error","formSummaryError","length","stopSubmit","_error","Login","formData","WithSuspense","Suspense","fallback","Dialogs","lazy","ProfileContainer","App","initializeApp","getState","path","render","AppContainer","MainApp","basename","process","Boolean","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","style","textAlign","preLoaderIMG","Textarea","field","hasError","meta","touched","formControl","input","value","undefined","ADD_POST","posts","likesCount","profile","addPost","newPostBody","setUserStatus","newPost"],"mappings":"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","file":"static/js/main.fced275f.chunk.js","sourcesContent":["import {DialogsPageType, messagesType} from \"../store\";\r\n\r\nconst ADD_MESSAGE = 'dialogs/ADD-MESSAGE';\r\n\r\nlet initialState: DialogsPageType = {\r\n    dialogs: [\r\n        {id: 1, name: \"Dimych\"},\r\n        {id: 2, name: \"Sasha\"},\r\n        {id: 3, name: \"Hanna\"},\r\n        {id: 4, name: \"Lesha\"},\r\n        {id: 5, name: \"Anton\"}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"Check Info\"},\r\n        {id: 3, message: \"How is your studying in REACT\"},\r\n        {id: 4, message: \"Hey Yo\"},\r\n        {id: 5, message: \"Good morning\"}\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action: DialogActionsType): DialogsPageType => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            let newMessage: messagesType = {\r\n                id: 6,\r\n                message: action.newMessageBody\r\n            }\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage],\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessageActionCreator = (newMessageBody: string): AddMessageActionCreatorType => ({type: ADD_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer;\r\n\r\n//TYPES\r\nexport type AddMessageActionCreatorType = {\r\n    type: typeof ADD_MESSAGE,\r\n    newMessageBody: string\r\n}\r\nexport type DialogActionsType = AddMessageActionCreatorType\r\n","import axios, {AxiosResponse} from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": 'e25ce395-7836-43e0-9416-1f8978f20c93'\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 10) {\r\n        return instance.get<GetUsersResponseType>(`users?page=${currentPage}&count=${pageSize}`,).then((response: AxiosResponse) => response.data)\r\n    },\r\n    follow(id: number) {\r\n        return instance.post<CommonResponseType>(`follow/${id}`, {},).then(response => response.data)\r\n    },\r\n    unFollow(id: number) {\r\n        return instance.delete<CommonResponseType>(`follow/${id}`, {},).then(response => response.data)\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userID: string) {\r\n        return instance.get<GetProfileResponseType>(`profile/${userID}`).then(response => response.data)\r\n    },\r\n    getStatus(userID: string) {\r\n        return instance.get<string>(`profile/status/${userID}`).then(response => response.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<CommonResponseType>(`profile/status/`, {status}).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuth () {\r\n        return instance.get<CommonResponseType<DataAuthResponseType>>(`auth/me`, ).then(response => response.data)\r\n    },\r\n    logIn (email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post<CommonResponseType<{userId: number}>>(`/auth/login`, {email, password, rememberMe}).then(response => response.data)\r\n    },\r\n    logOut () {\r\n        return instance.delete<CommonResponseType>(`/auth/login`).then(response => response.data)\r\n    }\r\n}\r\n\r\n// TYPES\r\ntype UserType = {\r\n    id: number\r\n    name: string\r\n    status: string\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n    followed: boolean\r\n}\r\n\r\ntype GetUsersResponseType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string\r\n}\r\n\r\ntype CommonResponseType<T = {}> = {\r\n    resultCode: ResultCodeEnum\r\n    messages: Array<string>\r\n    data: T\r\n}\r\n\r\nexport type ContactsType = {\r\n    github?: string\r\n    vk?: string\r\n    facebook?: string\r\n    instagram?: string\r\n    twitter?: string\r\n    website?: string\r\n    youtube?: string\r\n    mainLink?: string\r\n}\r\n\r\nexport type GetProfileResponseType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: ContactsType\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n}\r\n\r\nexport type DataAuthResponseType =  {\r\n    id: number | null\r\n    email: string\r\n    login: string\r\n    isAuth: boolean\r\n}\r\n\r\nexport enum ResultCodeEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2-gLK\",\"item\":\"Navbar_item__1IY2Z\",\"activeLink\":\"Navbar_activeLink__2uf0U\",\"friendsBlock\":\"Navbar_friendsBlock__13N0Y\",\"friends\":\"Navbar_friends__2l3bS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Music\":\"Music_Music__2db6E\"};","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Spinner-1s-200px.2aea4710.svg\";","import React from 'react';\r\nimport s from './Friends.module.css';\r\n\r\n\r\n\r\ntype FriendsArrType = {\r\n    name: string,\r\n    url: string\r\n}\r\n\r\nfunction Friends(props: FriendsArrType) {\r\n    return (\r\n        <div className={s.friend}>\r\n            <span>{props.name}</span>\r\n            <img className={s.avatar} src={props.url} alt=\"avatar\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;\r\n\r\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friends from \"./Friends/Friends\";\r\n\r\n\r\ntype friendType = {\r\n    id: number,\r\n    name: string,\r\n    url: string\r\n};\r\ntype SideBarType = {\r\n    friends: Array<friendType>\r\n};\r\n\r\nconst NavBar = (props: SideBarType) => {\r\n\r\n\r\n    let newFriends = props.friends.map(fr => <Friends name={fr.name} url={fr.url} key={fr.id}/>)\r\n\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to =\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to =\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to =\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to =\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to =\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to =\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n\r\n            <div className={s.friendsBlock}>\r\n                Friends:\r\n                <div className={s.friends}>\r\n                    {newFriends}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div className={s.Music}>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import {SideBarType} from \"../store\";\r\n\r\nexport type SideBarActionsType = {};\r\n\r\nlet initialState: SideBarType = {\r\n    friends: [\r\n        {\r\n            id: 1,\r\n            name: \"Max\",\r\n            url: \"https://www.nj.com/resizer/h8MrN0-Nw5dB5FOmMVGMmfVKFJo=/450x0/smart/cloudfront-us-east-1.images.arcpublishing.com/advancelocal/SJGKVE5UNVESVCW7BBOHKQCZVE.jpg\"\r\n        },\r\n        {\r\n            id: 2,\r\n            name: \"Alex\",\r\n            url: \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQY3-T5CGnvt9BKaAd3BtwiHmxLYTYXwfFnYmR88G3LXq9aUEg6&usqp=CAU\"\r\n        },\r\n        {\r\n            id: 3,\r\n            name: \"Hanna\",\r\n            url: \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSATQJC564l8QfGaYWecO6SG96pX0E4otgA6EO25MS4ABRa2pd7&usqp=CAU\"\r\n        },\r\n    ]\r\n}\r\n\r\nconst sideBarReducer = (state = initialState, action:SideBarActionsType):SideBarType => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sideBarReducer;","import {usersAPI} from \"../../API/API\";\r\nimport {AppStateType} from \"../reduxStore\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState: UsersStateType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action: UsersActionsType) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userID]\r\n                    : state.followingInProgress.filter((id: number) => id != action.userID)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n//ACTIONS\r\nexport const followSuccess = (userID: number): FollowACType => ({type: FOLLOW, userID})\r\nexport const unFollowSuccess = (userID: number): UnFollowACType => ({type: UNFOLLOW, userID})\r\nexport const setUsers = (users: Array<UsersType>): SetUsersACType => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageACType => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount: number): setTotalUsersCountACtype => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    totalUsersCount\r\n})\r\nexport const toggleIsFetching = (isFetching: boolean): toggleIsFetchingACtype => ({\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching\r\n})\r\nexport const toggleFollowingProgress = (isFetching: boolean, userID: number): toggleIsFollowingProgressACType => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    userID,\r\n    isFetching,\r\n})\r\n\r\n//FUNC\r\nconst followUnfollowFlow = async (dispatch: any, userId: number, apiMethod: any, actionCreator: any) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let responseData = await apiMethod(userId)\r\n    if (responseData.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\n//THUNKS\r\nexport const getUsers = (page: number, pageSize: number): ThunkType =>\r\n    async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        let responseData = await usersAPI.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(responseData.items))\r\n        dispatch(setTotalUsersCount(responseData.totalCount))\r\n    }\r\n\r\nexport const unFollow = (userId: number): ThunkType =>\r\n    async (dispatch) => {\r\n        const apiMethod = usersAPI.unFollow.bind(usersAPI)\r\n        followUnfollowFlow(dispatch, userId, apiMethod, unFollowSuccess)\r\n    }\r\n\r\nexport const follow = (userId: number): ThunkType =>\r\n    async (dispatch) => {\r\n        const apiMethod = usersAPI.follow.bind(usersAPI)\r\n        followUnfollowFlow(dispatch, userId, apiMethod, followSuccess)\r\n    }\r\n\r\nexport default usersReducer;\r\n//TYPES\r\nexport type UsersType = {\r\n    id: number\r\n    followed: boolean\r\n    photos: any\r\n    name: string\r\n    status: string\r\n}\r\nexport type UsersStateType = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\nexport type FollowACType = {\r\n    type: typeof FOLLOW,\r\n    userID: number\r\n}\r\nexport type UnFollowACType = {\r\n    type: typeof UNFOLLOW,\r\n    userID: number\r\n}\r\nexport type SetUsersACType = {\r\n    type: typeof SET_USERS,\r\n    users: Array<UsersType>\r\n}\r\nexport type SetCurrentPageACType = {\r\n    type: typeof SET_CURRENT_PAGE,\r\n    currentPage: number\r\n}\r\nexport type setTotalUsersCountACtype = {\r\n    type: typeof SET_TOTAL_USERS_COUNT,\r\n    totalUsersCount: number\r\n}\r\nexport type toggleIsFetchingACtype = {\r\n    type: typeof TOGGLE_IS_FETCHING,\r\n    isFetching: boolean\r\n}\r\nexport type toggleIsFollowingProgressACType = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching: boolean\r\n    userID: number\r\n}\r\nexport type UsersActionsType =\r\n    FollowACType\r\n    | UnFollowACType\r\n    | SetUsersACType\r\n    | SetCurrentPageACType\r\n    | setTotalUsersCountACtype\r\n    | toggleIsFetchingACtype\r\n    | toggleIsFollowingProgressACType\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, any, UsersActionsType>","import {authAPI, DataAuthResponseType, ResultCodeEnum} from \"../../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"../reduxStore\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst TOGGLE_IS_FETCHING = 'auth/TOGGLE_IS_FETCHING';\r\n\r\nlet initialState: authInitialStateType = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false\r\n};\r\n\r\nexport const authReducer = (state: authInitialStateType = initialState, action: UsersActionsType) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            };\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//ACTIONS\r\nexport const setAuthUserData = (data: DataAuthResponseType): setUserDataACType => ({type: SET_USER_DATA, data})\r\nexport const toggleIsFetching = (isFetching: boolean): toggleIsFetchingACType => ({\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching\r\n})\r\n\r\n//THUNKS\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    const responseData = await authAPI.getAuth()\r\n    dispatch(toggleIsFetching(false))\r\n    if (responseData.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(setAuthUserData({...responseData.data, isAuth: true}))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean): ThunkAction<void, AppStateType, any, UsersActionsType & any> =>\r\n    async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        const responseData = await authAPI.logIn(email, password, rememberMe)\r\n        dispatch(toggleIsFetching(false))\r\n        if (responseData.resultCode === ResultCodeEnum.Success) {\r\n            dispatch(getAuthUserData())\r\n        } else {\r\n            const message = responseData.messages.length > 0 ? responseData.messages[0] : 'Some error'\r\n            dispatch(stopSubmit('login', {_error: message}))\r\n        }\r\n    }\r\n\r\nexport const logout = (): ThunkType =>\r\n    async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        const responseData = await authAPI.logOut()\r\n        dispatch(toggleIsFetching(true))\r\n        if (responseData.resultCode === ResultCodeEnum.Success) {\r\n            dispatch(setAuthUserData({isAuth: false, email: '', id: null, login: ''}))\r\n        }\r\n\r\n    }\r\n\r\n//TYPES\r\nexport type setUserDataACType = {\r\n    type: typeof SET_USER_DATA,\r\n    data: DataAuthResponseType\r\n}\r\nexport type toggleIsFetchingACType = {\r\n    type: typeof TOGGLE_IS_FETCHING,\r\n    isFetching: boolean\r\n}\r\nexport type authInitialStateType = {\r\n    id: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isFetching?: boolean\r\n    isAuth: boolean\r\n}\r\nexport type UsersActionsType =\r\n    setUserDataACType\r\n    | toggleIsFetchingACType\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, any, UsersActionsType>","import {getAuthUserData} from \"../AuthReducer/AuthReducer\";\r\n\r\nconst SET_INITIALIZED_SUCCESS = 'app/SET_INITIALIZED_SUCCESS';\r\n\r\nlet initialState: AuthInitialStateType = {\r\n    initialized: false\r\n};\r\n\r\nexport const appReducer = (state: AuthInitialStateType = initialState, action: AppActionsType) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//ACTIONS\r\nexport const setInitializedSuccess = () => ({type: SET_INITIALIZED_SUCCESS} as const)\r\n\r\n//THUNKS\r\nexport const initializeApp = () => (dispatch: any) =>\r\n    dispatch(getAuthUserData())\r\n        .then(() => {\r\n            dispatch(setInitializedSuccess())\r\n        })\r\n\r\n//TYPES\r\nexport type AppActionsType = ReturnType<typeof setInitializedSuccess>\r\nexport type AuthInitialStateType = {\r\n    initialized: boolean\r\n}","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\nimport profileReducer from \"./ProfileReducer/profileReducer\";\r\nimport dialogsReducer from \"./DialogsReducer/dialogsReducer\";\r\nimport sideBarReducer from \"./SideBarReducer/sideBarReducer\";\r\nimport usersReducer from \"./UsersReducer/usersReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from \"./appReducer/appReducer\";\r\nimport {authReducer} from \"./AuthReducer/AuthReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sideBar: sideBarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\ntype RootReducerType = typeof reducers;\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n\r\n// @ts-ignore\r\nwindow.store = store;","import React, {useState} from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\n\r\nexport const Paginator = (props: PaginatorPropsType) => {\r\n    const pagesCount = Math.ceil(props.totalItemsCount / props.pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / (props.portionSize))\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n    const leftPagePortionNumber = (portionNumber - 1) * props.portionSize + 1\r\n    const rightPagePortionNumber = portionNumber * props.portionSize\r\n\r\n    return <div className={s.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPagePortionNumber && p<= rightPagePortionNumber)\r\n            .map((p, i) => <span\r\n            key={i}\r\n            className={props.currentPage === p ? s.selectedPage : s.pages}\r\n            onClick={() => {\r\n                props.onPageChange(p)\r\n            }}\r\n        >{p}</span>)}\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>}\r\n    </div>\r\n}\r\n\r\ntype PaginatorPropsType = {\r\n    currentPage: number\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    portionSize: number\r\n    onPageChange: (pageNumber: number) => void\r\n}","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../../assets/images/logo192.png\";\r\nimport s from \"../Users.module.css\";\r\n\r\nexport const User = (props: UserPropsType) => {\r\n    return <div key={props.userId}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + props.userId}>\r\n                            <img src={props.userPhotoSmall !== null ? props.userPhotoSmall : userPhoto}\r\n                                 alt=\"avatar\"\r\n                                 className={s.avatar}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {props.isUserFollowed\r\n                            ? <button\r\n                                disabled={props.followingInProgress.some(id => id === props.userId)}\r\n                                onClick={() => {\r\n                                    props.unFollow(props.userId)\r\n                                }}\r\n                            >UnFollow</button>\r\n                            : <button\r\n                                disabled={props.followingInProgress.some(id => id === props.userId)}\r\n                                onClick={() => {\r\n                                    props.follow(props.userId)\r\n                                }}\r\n                            >Follow</button>}\r\n                    </div>\r\n                </span>\r\n        <span>\r\n                    <span>\r\n                        <div>{props.userName}</div>\r\n                        <div>{props.userStatus}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{'u.location.country'}</div>\r\n                        <div>{'u.location.city'}</div>\r\n                    </span>\r\n                </span>\r\n    </div>\r\n}\r\ntype UserPropsType = {\r\n    userId: number\r\n    userPhotoSmall: string\r\n    userName: string\r\n    userStatus: string\r\n    follow: (userID: number) => void\r\n    unFollow: (userID: number) => void\r\n    followingInProgress: Array<number>\r\n    isUserFollowed: boolean\r\n}","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport {UsersType} from \"../../redux/UsersReducer/usersReducer\";\r\nimport {Paginator} from \"./Paginator/Paginator\";\r\nimport {User} from \"./User/User\";\r\n\r\ntype UsersFuncType = {\r\n    users: Array<UsersType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChange: (pageNumber: number) => void\r\n    follow: (userID: number) => void\r\n    unFollow: (userID: number) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nconst UsersFunc = (props: UsersFuncType) => {\r\n\r\n    return (\r\n        <div className={s.Users}>\r\n            <Paginator currentPage={props.currentPage}\r\n                       totalItemsCount={props.totalUsersCount}\r\n                       pageSize={props.pageSize}\r\n                       onPageChange={props.onPageChange}\r\n                       portionSize={10}\r\n            />\r\n\r\n            {props.users.map(u => <User key={u.id} userId={u.id} userPhotoSmall={u.photos.small} userName={u.name}\r\n                                        userStatus={u.status} follow={props.follow} unFollow={props.unFollow}\r\n                                        followingInProgress={props.followingInProgress} isUserFollowed={u.followed}/>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UsersFunc;","import {AppStateType} from \"../reduxStore\";\r\n\r\nexport const getUsersSelector = (state: AppStateType) => state.usersPage.users\r\nexport const getPageSize = (state: AppStateType) => state.usersPage.pageSize\r\nexport const getTotalUsersCount = (state: AppStateType) => state.usersPage.totalUsersCount\r\nexport const getCurrentPage = (state: AppStateType) => state.usersPage.currentPage\r\nexport const getIsFetching = (state: AppStateType) => state.usersPage.isFetching\r\nexport const getFollowingInProgress = (state: AppStateType) => state.usersPage.followingInProgress\r\n/*//Reselect example\r\nexport const getUsersSuperSelector = createSelector(getUsersSelector, (users: Array<UsersType>) => users.filter(u => true))*/","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/reduxStore\";\r\nimport {\r\n    follow,\r\n    getUsers,\r\n    setCurrentPage,\r\n    unFollow,\r\n    UsersStateType,\r\n    UsersType\r\n} from \"../../redux/UsersReducer/usersReducer\";\r\nimport UsersFunc from \"./UsersFunc\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersSelector\r\n} from \"../../redux/UsersReducer/usersSelectors\";\r\n\r\ntype UsersMapDispatchToPropsType = {\r\n    follow: (userID: number) => void\r\n    unFollow: (userID: number) => void\r\n    setCurrentPage: (currentPage: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\ntype UsersAPIPropsType = UsersMapDispatchToPropsType &\r\n    {\r\n        users: Array<UsersType>\r\n        pageSize: number\r\n        totalUsersCount: number\r\n        currentPage: number\r\n        isFetching: boolean\r\n        followingInProgress: Array<number>\r\n    }\r\n\r\nclass UsersAPIContainer extends React.Component<UsersAPIPropsType> {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChange = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <UsersFunc {...this.props} onPageChange={this.onPageChange}/>\r\n        </>\r\n    }\r\n}\r\n\r\n/*const MapStateToProps = (state: AppStateType): UsersStateType => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n    };\r\n};*/\r\nconst MapStateToProps = (state: AppStateType): UsersStateType => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage:getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    };\r\n};\r\n\r\nconst UsersContainer = connect(MapStateToProps,\r\n    {\r\n        follow, setCurrentPage, getUsers, unFollow\r\n    })(UsersAPIContainer);\r\n\r\nexport default UsersContainer;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype HeaderType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n}\r\n\r\nconst Header = (props: HeaderType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Approve_icon.svg/1024px-Approve_icon.svg.png\"\r\n                alt=\"logo\"/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/AuthReducer/AuthReducer\";\r\nimport {AppStateType} from \"../../redux/reduxStore\";\r\n\r\ntype HeaderContainerType = mapStateToPropsType & {\r\n    logout: () => void\r\n}\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerType> {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nconst HeaderConnect = connect(mapStateToProps, {logout})(HeaderContainer)\r\n\r\nexport default HeaderConnect;","import React from 'react';\r\nimport s from './Login.module.css';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormControls\";\r\nimport {maxLength, requiredField} from \"../common/validators/Validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/AuthReducer/AuthReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../redux/reduxStore\";\r\n\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return <div className={s.Login}>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst maxLength30 = maxLength(30)\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field placeholder={'Email'} name={'email'} component={Input}\r\n                   validate={[requiredField, maxLength30]}/>\r\n        </div>\r\n        <div>\r\n            <Field type={'password'} placeholder={'Password'} name={'password'} component={Input}\r\n                   validate={[requiredField, maxLength30]}/>\r\n        </div>\r\n        <div className={s.rememberMe}>\r\n            <Field type={'checkbox'} name={'rememberMe'} component={Input}/>\r\n            <label htmlFor={'rememberMe'}>remember me</label>\r\n        </div>\r\n        {props.error && <div className={s.formSummaryError}>{props.error}</div>}\r\n        <div>\r\n            <button>Log in</button>\r\n        </div>\r\n    </form>\r\n}\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n\r\n//TYPES\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\ntype LoginPropsType = mapStateToPropsType & {\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n}","import React from 'react';\r\nimport Preloader from \"../Components/common/preloader/Preloader\";\r\n\r\nexport const WithSuspense = (Component: any) => {\r\n    return (props: any) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n};","import React from 'react';\nimport './App.css';\nimport NavBar from \"./Components/NavBar/Navbar\";\nimport {HashRouter, Route} from \"react-router-dom\"\nimport News from \"./Components/News/News\";\nimport Music from \"./Components/Music/Music\";\nimport Settings from \"./Components/Settings/Settings\";\nimport store, {AppStateType} from \"./redux/reduxStore\"\nimport UsersContainer from \"./Components/Users/UsersContainer\";\nimport HeaderConnect from \"./Components/Header/Header.container\";\nimport Login from \"./Components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/appReducer/appReducer\";\nimport Preloader from \"./Components/common/preloader/Preloader\";\nimport {WithSuspense} from \"./hoc/WithSuspense\";\n\nconst Dialogs = React.lazy(() => import('./Components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer'));\n\n\nclass App extends React.Component<AppPropsType> {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className=\"app-wrapper\">\n\n                <HeaderConnect/>\n                <NavBar friends={store.getState().sideBar.friends}/>\n                <div className=\"app-wrapper-content\">\n                    <Route path=\"/profile/:userId?\"\n                           render={WithSuspense(ProfileContainer)}/>\n                    <Route path=\"/dialogs\"\n                           render={WithSuspense(Dialogs)}/>\n                    <Route path=\"/news\"\n                           render={() => <News/>}/>\n                    <Route path=\"/music\"\n                           render={() => <Music/>}/>\n                    <Route path=\"/settings\"\n                           render={() => <Settings/>}/>\n                    <Route path=\"/users\"\n                           render={() => <UsersContainer/>}/>\n                    <Route path=\"/login\"\n                           render={() => <Login/>}/>\n                </div>\n            </div>\n        )\n    }\n}\n\n/*\n<React.Suspense fallback={<Spinner />}>\n      <div>\n        <OtherComponent />\n      </div>\n    </React.Suspense>\n*/\n\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\n    initialized: state.app.initialized\n})\n\nconst AppContainer = connect(mapStateToProps, {initializeApp})(App);\n\nexport const MainApp = () => {\n    return <HashRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n\n//TYPES\ntype MapStateToPropsType = {\n    initialized: boolean\n}\ntype AppPropsType = MapStateToPropsType & {\n    initializeApp: () => void\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport {MainApp} from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <React.StrictMode>\n        <MainApp/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport preLoaderIMG from \"../../../assets/images/Spinner-1s-200px.svg\";\r\n\r\ntype PreloaderType = {}\r\n\r\nfunction Preloader(props: PreloaderType) {\r\n    return (\r\n        <div style={{textAlign: 'center'}}>\r\n            <img src={preLoaderIMG}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__WdyDc\",\"error\":\"FormControls_error__V-zm-\"};","import React from \"react\";\r\nimport s from './FormControls.module.css'\r\nimport {WrappedFieldMetaProps} from \"redux-form\";\r\n\r\nexport const Textarea = (field: FieldType) => {\r\n    const hasError = field.meta.touched && field.meta.error\r\n    return <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n        <textarea {...field.input} placeholder={field.placeholder}/>\r\n        <div>\r\n            {hasError && <span>{field.meta.error}</span>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const Input = (field: FieldType) => {\r\n    const hasError = field.meta.touched && field.meta.error\r\n\r\n    return <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n        <input {...field.input} placeholder={field.placeholder} type={field.type}/>\r\n        <div>\r\n            {hasError && <span>{field.meta.error}</span>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\ntype FieldType = {\r\n    meta: WrappedFieldMetaProps\r\n    /*{\r\n        touched: boolean\r\n        error: string\r\n    }*/\r\n    placeholder: string | undefined\r\n    type: string\r\n    input: string\r\n}","export const requiredField: FieldValidatorType = (value) =>  value ? undefined : 'field is required'\r\n\r\nexport const maxLength = (maxLength: number): FieldValidatorType =>\r\n    (value: string) => (value && value.length > maxLength) ? `Max length is ${maxLength} symbols` : undefined\r\n\r\nexport type FieldValidatorType = (value: string) => string | undefined\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Users\":\"Users_Users__2cuDz\",\"avatar\":\"Users_avatar__2HfKL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2D4Jk\",\"selectedPage\":\"Paginator_selectedPage__2MfDb\",\"pages\":\"Paginator_pages__PyTHL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__swwEc\",\"formSummaryError\":\"Login_formSummaryError__3bWIJ\",\"rememberMe\":\"Login_rememberMe__1rtkt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friends_friend__2I21y\",\"avatar\":\"Friends_avatar__3m4Ru\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1StkQ\",\"loginBlock\":\"Header_loginBlock__1nhp4\"};","import {GetProfileResponseType, profileAPI} from \"../../API/API\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"../reduxStore\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'profile/SET_USER_STATUS';\r\n\r\nexport let initialState: InitialStateType = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are u?\", likesCount: 15},\r\n        {id: 2, message: \"It's my first post!\", likesCount: 20}\r\n    ] as Array<PostsType>,\r\n    profile: {} as GetProfileResponseType,\r\n    status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action: ProfileActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost: PostsType = {\r\n                id: 3,\r\n                message: action.newPostBody,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [newPost, ...state.posts],\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//ACTIONS\r\nexport const addPost = (newPostBody: string): AddPostType => ({type: ADD_POST, newPostBody})\r\nexport const setUserProfile = (profile: GetProfileResponseType): SetUserProfileType => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n})\r\nexport const setUserStatus = (status: string): SetUserStatusType => ({type: SET_USER_STATUS, status})\r\n\r\n//THUNKS\r\nexport const getProfile = (userID: string): ThunkType =>\r\n    async (dispatch) => {\r\n        const responseData = await profileAPI.getProfile(userID)\r\n        dispatch(setUserProfile(responseData))\r\n    }\r\n\r\nexport const getStatus = (userID: string): ThunkType =>\r\n    async (dispatch) => {\r\n        const responseData = await profileAPI.getStatus(userID)\r\n        dispatch(setUserStatus(responseData))\r\n    }\r\n\r\nexport const updateStatus = (status: string): ThunkType =>\r\n    async (dispatch) => {\r\n        const responseData = await profileAPI.updateStatus(status)\r\n        if (responseData.resultCode === 0) {\r\n            dispatch(setUserStatus(status))\r\n        }\r\n    }\r\n\r\nexport default profileReducer;\r\n\r\n//TYPES\r\nexport type AddPostType = {\r\n    type: typeof ADD_POST,\r\n    newPostBody: string\r\n}\r\nexport type SetUserProfileType = {\r\n    type: typeof SET_USER_PROFILE,\r\n    profile: any\r\n}\r\nexport type SetUserStatusType = {\r\n    type: typeof SET_USER_STATUS,\r\n    status: string\r\n}\r\nexport type PostsType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number\r\n};\r\nexport type InitialStateType = {\r\n    posts: Array<PostsType>\r\n    profile: GetProfileResponseType\r\n    status: string\r\n}\r\nexport type ProfileActionsType =\r\n    | AddPostType\r\n    | SetUserProfileType\r\n    | SetUserStatusType\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, any, ProfileActionsType>"],"sourceRoot":""}